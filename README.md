# hono-practice

## クイックスタート

### 初期セットアップ（推奨）

以下のコマンドで、依存関係のインストール、環境変数の設定、データベースのセットアップまで一括で行えます：

```sh
make setup
```

このコマンドは以下を実行します：
1. npm install（依存関係のインストール）
2. .envファイルの作成（存在しない場合）
3. データベースマイグレーション
4. テストデータの投入

セットアップ後、開発サーバーを起動：

```sh
make dev
```

### 個別セットアップ

#### DB migration

```sh
npm run db-generate
npm run db-migrate
```

## 開発環境のセットアップ

### 初期データの投入

開発環境でテストデータが必要な場合は、以下のコマンドで初期データを生成できます：

```sh
npm run db-seed
```

このコマンドは以下のテストデータを生成します：

- **テストユーザー（3名）**
  - taro@example.com / password123
  - hanako@example.com / password123
  - demo@example.com / password123

- **各ユーザーに対して**
  - 3-4個のアクティビティ（ランニング、読書、プログラミング、筋トレ、水分補給からランダム選択）
  - 過去30日分のアクティビティログ（リアルな数値とメモ付き）
  - アクティビティ目標（80%の確率で設定）
  - 3-5個のタスク（期限や完了状態もランダムに設定）

すべてのデータは現在時刻を起点として生成されるため、いつ実行してもリアルなテストデータが作成されます。

## Makefileコマンド一覧

```sh
make help       # 利用可能なコマンドの一覧を表示
make setup      # 初期セットアップ（全て実行）
make setup-db   # データベースのセットアップ（マイグレーション＋シード）
make setup-env  # 環境変数ファイルのセットアップ
make install    # 依存関係のインストール
make migrate    # データベースマイグレーション
make seed       # テストデータの投入
make dev        # 開発サーバーの起動
make reset-db   # データベースをリセット（全データ削除＋再構築）
make clean-db   # データベースの全データを削除
```
